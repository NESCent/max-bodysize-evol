<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>initialize_search_sql (ActiveScaffold::DataStructures::Column)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre><span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 226</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_search_sql</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">virtual?</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">association</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">field</span>.<span class="ruby-identifier">to_s</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-comment cmt"># with associations we really don't know what to sort by without developer intervention. we could sort on the primary key ('id'), but that's hardly useful. previously ActiveScaffold would try and search using the same sql as from :sort, but we decided to just punt.</span>
          <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">nil</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
</body>
</html>